<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="theme-color" content="#1a3d2b">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Mein Vorrat">
<title>Mein Vorrat</title>
<link rel="manifest" id="manifest-placeholder">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #F4EFE6;
  --surface: #FDFAF5;
  --green: #1a3d2b;
  --green-mid: #2d6a4f;
  --green-light: #52b788;
  --amber: #b8731a;
  --amber-light: #f4a845;
  --red: #b83232;
  --text: #1c1c1c;
  --muted: #7a7a7a;
  --border: #ddd7cc;
  --shadow: 0 2px 10px rgba(0,0,0,0.07);
  --r: 14px;
  --nav: 66px;
}
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
html,body{height:100%;overflow:hidden;font-family:'Nunito',sans-serif;background:var(--bg);color:var(--text)}
#app{height:100dvh;display:flex;flex-direction:column;overflow:hidden}

/* HEADER */
.hdr{background:var(--green);color:#fff;padding:14px 18px 11px;display:flex;align-items:center;justify-content:space-between;flex-shrink:0}
.hdr-title{font-family:'Lora',serif;font-size:21px;font-weight:700;letter-spacing:-0.2px}
.hdr-sub{font-size:11px;opacity:.65;margin-top:1px}
.hdr-actions{display:flex;gap:7px;align-items:center}
.hdr-btn{background:rgba(255,255,255,.15);border:none;color:#fff;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:17px;flex-shrink:0}
.sync-dot{width:8px;height:8px;border-radius:50%;background:#52b788;flex-shrink:0;transition:background .3s}
.sync-dot.syncing{background:var(--amber-light);animation:pulse 1s infinite}
.sync-dot.err{background:var(--red)}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}

/* VIEWS */
.view{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;padding:14px 14px calc(var(--nav) + 14px);display:none}
.view.active{display:block}

/* BOTTOM NAV */
.bnav{height:var(--nav);background:var(--surface);border-top:1px solid var(--border);display:flex;position:fixed;bottom:0;left:0;right:0;z-index:100}
.ni{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;cursor:pointer;border:none;background:none;color:var(--muted);font-family:'Nunito',sans-serif;font-size:10px;font-weight:700;position:relative;transition:color .15s}
.ni.active{color:var(--green)}
.ni.active::after{content:'';position:absolute;top:0;left:25%;right:25%;height:3px;background:var(--green);border-radius:0 0 3px 3px}
.ni-icon{font-size:21px}

/* CARDS */
.card{background:var(--surface);border-radius:var(--r);padding:15px;box-shadow:var(--shadow);margin-bottom:11px}
.sec-title{font-family:'Lora',serif;font-size:17px;font-weight:700;margin-bottom:11px;color:var(--green)}

/* BUTTONS */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:7px;padding:11px 18px;border-radius:11px;border:none;font-family:'Nunito',sans-serif;font-size:14px;font-weight:700;cursor:pointer;transition:transform .1s,opacity .1s;touch-action:manipulation}
.btn:active{transform:scale(.96);opacity:.85}
.btn:disabled{opacity:.5;cursor:not-allowed}
.btn-p{background:var(--green);color:#fff}
.btn-a{background:var(--amber);color:#fff}
.btn-g{background:transparent;color:var(--green);border:2px solid var(--green)}
.btn-r{background:var(--red);color:#fff}
.btn-w{width:100%}
.btn-s{padding:8px 13px;font-size:12px;border-radius:8px}

/* STATUS BADGES */
.sbadge{display:inline-flex;align-items:center;gap:3px;padding:2px 9px;border-radius:20px;font-size:11px;font-weight:700}
.s-ok{background:#d8f3dc;color:#1b4332}
.s-low{background:#fff3cd;color:#6d4c00}
.s-empty{background:#f8d7da;color:#7a1c1c}

/* PANTRY ITEM */
.icard{background:var(--surface);border-radius:var(--r);padding:13px 14px;box-shadow:var(--shadow);margin-bottom:9px;display:flex;align-items:center;gap:11px;transition:opacity .2s}
.icard.updating{opacity:.5}
.iicon{width:42px;height:42px;border-radius:11px;background:var(--bg);display:flex;align-items:center;justify-content:center;font-size:21px;flex-shrink:0}
.iinfo{flex:1;min-width:0}
.iname{font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.imeta{font-size:11px;color:var(--muted);margin-top:2px;display:flex;align-items:center;gap:5px;flex-wrap:wrap}
.iactions{display:flex;gap:5px;flex-shrink:0}
.sbtn{width:30px;height:30px;border-radius:7px;border:none;display:flex;align-items:center;justify-content:center;font-size:13px;cursor:pointer;transition:transform .1s}
.sbtn:active{transform:scale(.88)}
.sok{background:#d8f3dc}.slow{background:#fff3cd}.sgone{background:#f8d7da}

/* FILTER CHIPS */
.chips{display:flex;gap:7px;overflow-x:auto;padding-bottom:3px;margin-bottom:14px;scrollbar-width:none}
.chips::-webkit-scrollbar{display:none}
.chip{flex-shrink:0;padding:5px 13px;border-radius:20px;font-size:12px;font-weight:700;border:2px solid var(--border);background:var(--surface);color:var(--muted);cursor:pointer;transition:all .15s}
.chip.active{background:var(--green);color:#fff;border-color:var(--green)}

/* STATS */
.stats{display:grid;grid-template-columns:1fr 1fr 1fr;gap:7px;margin-bottom:14px}
.scard{background:var(--surface);border-radius:11px;padding:11px;text-align:center;box-shadow:var(--shadow)}
.snum{font-family:'Lora',serif;font-size:23px;font-weight:700}
.slabel{font-size:10px;color:var(--muted);font-weight:700;text-transform:uppercase;letter-spacing:.3px}
.s-a .snum{color:#1b4332}.s-l .snum{color:#6d4c00}.s-e .snum{color:#7a1c1c}

/* SHOPPING */
.shoprow{display:flex;align-items:center;gap:11px;padding:11px 0;border-bottom:1px solid var(--border)}
.shoprow:last-child{border-bottom:none}
.shopcheck{width:23px;height:23px;border-radius:6px;border:2px solid var(--green-mid);display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0;transition:all .15s;font-size:12px}
.shopcheck.checked{background:var(--green-mid);border-color:var(--green-mid);color:#fff}
.shopname{flex:1;font-weight:600;font-size:14px}
.shopname.done{text-decoration:line-through;color:var(--muted)}

/* INPUT */
.inp{width:100%;padding:11px 14px;border:2px solid var(--border);border-radius:11px;font-family:'Nunito',sans-serif;font-size:14px;background:var(--bg);color:var(--text);outline:none;transition:border-color .15s;margin-bottom:11px}
.inp:focus{border-color:var(--green-mid)}
select.inp{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%237a7a7a' stroke-width='2' fill='none'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 13px center;padding-right:34px}
.flabel{font-size:11px;font-weight:800;color:var(--muted);text-transform:uppercase;letter-spacing:.4px;margin-bottom:5px;display:block}

/* MODAL */
.moverlay{position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:200;display:none;align-items:flex-end}
.moverlay.open{display:flex}
.msheet{background:var(--surface);border-radius:18px 18px 0 0;width:100%;max-height:88vh;overflow-y:auto;padding:18px;animation:slideUp .22s ease}
@keyframes slideUp{from{transform:translateY(100%)}to{transform:translateY(0)}}
.mhandle{width:38px;height:4px;background:var(--border);border-radius:2px;margin:0 auto 15px}

/* SCAN */
.scanbox{background:var(--green);border-radius:var(--r);padding:22px;text-align:center;margin-bottom:14px}
.scanicon{font-size:52px;margin-bottom:10px}
.scantitle{color:#fff;font-size:17px;font-weight:700;margin-bottom:5px}
.scansub{color:rgba(255,255,255,.7);font-size:12px;line-height:1.4}
#cameraPreview{width:100%;border-radius:11px;max-height:260px;object-fit:cover;display:none;margin-bottom:10px}
#capturedCanvas{width:100%;border-radius:11px;max-height:260px;object-fit:cover;display:none;margin-bottom:10px}
.progbar{height:5px;background:var(--border);border-radius:3px;overflow:hidden;margin:10px 0}
.progfill{height:100%;background:var(--green-light);border-radius:3px;transition:width .3s}
.ocrrow{display:flex;align-items:center;gap:9px;padding:9px 0;border-bottom:1px solid var(--border)}
.ocrrow:last-child{border-bottom:none}
.ocrtog{width:21px;height:21px;border-radius:5px;border:2px solid var(--green-mid);display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0;transition:all .15s;font-size:11px}
.ocrtog.sel{background:var(--green-mid);color:#fff;border-color:var(--green-mid)}
.ocrname input{border:none;background:none;font-family:'Nunito',sans-serif;font-size:13px;font-weight:600;width:100%;outline:none;color:var(--text)}

/* REMINDER DAYS */
.daygrid{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:11px}
.daybtn{aspect-ratio:1;border-radius:8px;border:2px solid var(--border);background:var(--surface);font-size:10px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s;color:var(--text)}
.daybtn.sel{background:var(--green);color:#fff;border-color:var(--green)}

/* TOAST */
.toast{position:fixed;bottom:calc(var(--nav) + 10px);left:14px;right:14px;background:var(--green);color:#fff;padding:11px 15px;border-radius:11px;font-weight:700;font-size:13px;z-index:300;transform:translateY(100px);opacity:0;transition:all .22s;text-align:center}
.toast.show{transform:translateY(0);opacity:1}

/* EMPTY STATE */
.empty{text-align:center;padding:44px 22px;color:var(--muted)}
.empty-i{font-size:46px;margin-bottom:11px}

/* FAB */
#fab{position:fixed;bottom:calc(var(--nav) + 14px);right:14px;z-index:50;width:50px;height:50px;border-radius:50%;background:var(--green);color:#fff;border:none;font-size:26px;cursor:pointer;box-shadow:0 4px 16px rgba(26,61,43,.4);display:none;align-items:center;justify-content:center;transition:transform .1s}
#fab:active{transform:scale(.92)}

/* SETUP */
.setup-wrap{padding:26px 18px 100px;overflow-y:auto;height:100%}
.setup-hero{text-align:center;margin-bottom:28px}

/* INFO BOX */
.info{background:var(--bg);border:2px solid var(--border);border-radius:11px;padding:13px 14px;font-size:12px;color:var(--muted);line-height:1.6;margin-bottom:11px}
.info strong{color:var(--text)}
.info a{color:var(--green-mid);font-weight:700}

/* STEP */
.step{display:flex;gap:11px;margin-bottom:13px;align-items:flex-start}
.stepnum{width:26px;height:26px;border-radius:50%;background:var(--green);color:#fff;font-size:12px;font-weight:800;display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-top:1px}
.steptxt{font-size:13px;line-height:1.5;color:var(--text)}
.steptxt strong{color:var(--green)}
.steptxt a{color:var(--green-mid);font-weight:700}

/* STORES */
.strow{display:flex;align-items:center;gap:9px;padding:8px 0;border-bottom:1px solid var(--border)}
.strow:last-child{border-bottom:none}
.stdot{width:9px;height:9px;border-radius:50%;flex-shrink:0}

/* URL box */
.urlbox{background:var(--bg);border-radius:9px;padding:11px;font-size:11px;word-break:break-all;color:var(--muted);margin-bottom:11px;line-height:1.5;font-family:monospace}

/* CONNECTION status */
.conn-ok{background:#d8f3dc;color:#1b4332;border-radius:9px;padding:10px 13px;font-size:12px;font-weight:700;display:flex;align-items:center;gap:7px;margin-bottom:11px}
.conn-err{background:#f8d7da;color:#7a1c1c;border-radius:9px;padding:10px 13px;font-size:12px;font-weight:700;display:flex;align-items:center;gap:7px;margin-bottom:11px}
</style>
</head>
<body>
<div id="app">

<div class="hdr" id="hdr" style="display:none">
  <div>
    <div class="hdr-title">üåø Mein Vorrat</div>
    <div class="hdr-sub" id="hdrSub">Lade‚Ä¶</div>
  </div>
  <div class="hdr-actions">
    <div class="sync-dot" id="syncDot" title="Sync-Status"></div>
    <button class="hdr-btn" id="hdrBtn">‚öôÔ∏è</button>
  </div>
</div>

<div class="view active" id="view-setup">
  <div class="setup-wrap">
    <div class="setup-hero">
      <div style="font-size:60px;margin-bottom:13px">üõí</div>
      <div style="font-family:'Lora',serif;font-size:24px;font-weight:700;color:var(--green);margin-bottom:6px">Mein Vorrat</div>
      <div style="color:var(--muted);font-size:13px;line-height:1.5">Familien-Vorrats-Tracker mit Google Sheets.<br>Kein Abo ¬∑ Keine Limits ¬∑ Kein Login n√∂tig.</div>
    </div>

    <div class="card">
      <div class="sec-title">üîß Einrichtung</div>

      <div class="step">
        <div class="stepnum">1</div>
        <div class="steptxt">Gehe zu <a href="https://sheets.google.com" target="_blank">sheets.google.com</a> ‚Üí Neue Tabelle erstellen ‚Üí gib ihr einen Namen (z.B. <strong>Mein Vorrat</strong>)</div>
      </div>
      <div class="step">
        <div class="stepnum">2</div>
        <div class="steptxt">In der Tabelle: Men√º <strong>Erweiterungen ‚Üí Apps Script</strong></div>
      </div>
      <div class="step">
        <div class="stepnum">3</div>
        <div class="steptxt">Den kompletten Inhalt aus <strong>Code.gs</strong> (die andere heruntergeladene Datei) hineinkopieren ‚Üí üíæ Speichern</div>
      </div>
      <div class="step">
        <div class="stepnum">4</div>
        <div class="steptxt">Klicke auf <strong>Bereitstellen ‚Üí Neue Bereitstellung</strong> ‚Üí Typ: <strong>Web App</strong><br>Ausf√ºhren als: <strong>Ich</strong><br>Zugriff: <strong>Jeder</strong> ‚Üí Bere
